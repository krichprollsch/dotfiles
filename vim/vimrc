" vim conf - Pierre Tachoire
" inspired by Vincent Jousse

call pathogen#infect()	" enable pathogen
set nocompatible	" remove vi compat
set title		" update term title
"set number		" add line number
set ruler		" show cursor pos
"set wrap		
set scrolloff=3		" lines around scroll
set ignorecase		" search ignore case
set smartcase		" search case sensitive if caps char used
set incsearch		" highlight search results while typing
set hlsearch		" highlight search results
set visualbell		" remove beeps
set noerrorbells	" remove beeps
set hidden		" hide file while opening other files
set nobackup
set nowritebackup
set noswapfile

" backspace as usual
set backspace=indent,eol,start	

syntax enable

filetype on
filetype plugin on
filetype indent on

" enable solarized
set background=light
colorscheme base16-tomorrow

highlight ColorColumn ctermfg=DarkGray
let &colorcolumn=join(range(81,999),",")
"let &colorcolumn="80,".join(range(120,999),",")

" add new line without insert mode on enter
nmap <S-Enter> O<Esc>
nmap <CR> o<Esc>

" Desactiver les touches directionnelles
map <up> <nop>
map <down> <nop>
map <left> <nop>
map <right> <nop>
imap <up> <nop>
imap <down> <nop>
imap <left> <nop>
imap <right> <nop>

" ;; as esc
map ;; <esc>
imap ;; <esc>

" make plugins smoother
set lazyredraw

let mapleader = ","

" disable parent hightlight
let g:loaded_matchparen= 1

" always replace all occurences of a line
set gdefault

" Tabs and indentation
set smartindent
set tabstop=4
set shiftwidth=4
set expandtab

" ctrlp
let g:ctrlp_map                 = '<leader>t'
let g:ctrlp_max_files           = 100000
let g:ctrlp_clear_cache_on_exit = 0
let g:ctrlp_custom_ignore = {
    \ 'dir':  '\.git$\|\.hg$\|\.svn$\|cache\|node_modules',
    \ 'file': '\.exe$\|\.so$\|\.dll$' }

" Syntastic
let g:syntastic_auto_loc_list = 1                       " auto open/close the errors list
let g:syntastic_quiet_messages = {'level': 'warnings'}  " don't want warnings to be displayed
let g:syntastic_php_checkers = ['php', 'phpcs']
let g:syntastic_php_phpcs_args="--report=csv --standard=PSR2"

" Ctags
set tags=./tags;/,~/.vimtags,tags,vendor.tags

" PIV
let g:DisableAutoPHPFolding = 1
let g:PIVAutoClose = 0

" F5 removes endline spaces
:nnoremap <silent> <F5> :let _s=@/<Bar>:%s/\s\+$//e<Bar>:let @/=_s<Bar>:nohl<CR>

" airline
set laststatus=2
